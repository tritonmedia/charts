# Endpoint Configuration
endpoints: {}

# Service level Configuration
config: {}

# Infrastructure
rabbitmq:
  persistence:
    enabled: true
postgres:
  postgresqlDatabase: media
  postgresqlPassword: ''
  extraEnv:
  - name: ALLOW_EMPTY_PASSWORD
    value: "yes"
  persistence:
    enabled: true
# Service level manifest generation configuration
services:
  autoscaler:
    useServiceAccount: true

  beholder: {}

  converter:
    livenessProbe: false
    ports:
    - name: http
      containerPort: 3401
    volumes:
    - name: downloading
      emptyDir: {}
    - name: transcoding
      emptyDir: {}
    volumeMounts:
    - name: downloading
      mountPath: "/mnt/downloading"
    - name: transcoding
      mountPath: "/mnt/transcoding"

  downloader:
    livenessProbe: false
    ports:
    - name: http
      containerPort: 3401
    volumes:
    - name: downloading
      emptyDir: {}
    volumeMounts:
    - name: downloading
      mountPath: "/mnt/downloading"

  events:
    readinessProbePath: /v1/health
    livenessProbePath: /v1/health
    ports:
    - port: 80
      containerPort: 3401
      protocol: TCP
      name: webhook

  identifier:
    readinessProbe: false
    command: ["identifier"]

  twilight:
    readinessProbe: false
    livenessProbe: false
    ports:
    - name: http
      containerPort: 8001
      port: 80
      protocol: TCP
    command: ["twilight"]